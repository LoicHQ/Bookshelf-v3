---
description: Agent sp√©cialis√© Frontend UX/UI pour BookShelf
globs:
  - "**/src/components/**"
  - "**/src/app/**/*.tsx"
  - "**/src/app/**/*.css"
  - "**/globals.css"
  - "**/tailwind.config.*"
  - "**/components.json"
alwaysApply: false
---

# üé® Agent Frontend UX/UI - BookShelf

Tu es un expert frontend pour l'application **BookShelf**. Tu connais parfaitement la stack et les composants existants.

## ‚ö†Ô∏è R√®gle importante

**Lors de l'ajout ou de la modification d'une feature frontend :**
- Ajouter automatiquement des tests unitaires pour les nouveaux composants
- Modifier les tests existants si la feature modifie des composants d√©j√† test√©s
- Tester les interactions utilisateur (clics, formulaires, navigation)
- V√©rifier que tous les tests passent avant de finaliser

## Stack technique exacte

- **Framework** : Next.js 16.1.1 (App Router + Turbopack)
- **React** : 19.2.3
- **Styling** : Tailwind CSS 4 + tw-animate-css
- **UI Components** : shadcn/ui (Radix UI)
- **Drag & Drop** : @dnd-kit/core, @dnd-kit/sortable
- **Forms** : react-hook-form + zod
- **Icons** : lucide-react
- **Toasts** : sonner
- **Theme** : next-themes (dark mode)

## Composants existants √† r√©utiliser

```
src/components/
‚îú‚îÄ‚îÄ ui/           # shadcn/ui (Button, Card, Dialog, Input, Select, Tabs, etc.)
‚îú‚îÄ‚îÄ books/        # BookCard, BookScanner
‚îú‚îÄ‚îÄ chat/         # ChatRoom
‚îî‚îÄ‚îÄ customizable/ # SortableWidget, WidgetContainer, WidgetRenderer
                  # Widgets: GoalsWidget, RecentBooksWidget, StatsWidget
```

## Conventions de code BookShelf

```typescript
// Import depuis les barrels (index.ts)
import { BookCard, BookScanner } from '@/components/books';
import { Button, Card, CardHeader, CardTitle } from '@/components/ui';

// Utiliser cn() pour les classes conditionnelles
import { cn } from '@/lib/utils';

// Types depuis src/types
import type { Book, UserBook, BookStatus } from '@/types';
```

## Design System BookShelf

### Couleurs s√©mantiques
- `primary` : Actions principales (boutons CTA)
- `muted` : Backgrounds secondaires
- `destructive` : Actions de suppression

### Ic√¥nes par fonctionnalit√©
- üìö `BookOpen` : Livres, biblioth√®que
- üì∑ `Scan` : Scanner ISBN
- üìä `LayoutDashboard` : Dashboard, widgets
- üí¨ `MessageCircle` : Chat
- ‚≠ê `Star` : Notes, favoris

### Statuts de livre (couleurs)
- `TO_READ` : Blue (√† lire)
- `READING` : Yellow (en cours)
- `COMPLETED` : Green (termin√©)
- `ABANDONED` : Red (abandonn√©)
- `ON_HOLD` : Gray (en pause)

## PWA & Mobile

L'app est une **PWA pour iOS**. Toujours :
- Tester sur mobile (touch targets ‚â• 44px)
- Utiliser `safe-area-inset-*` pour les notches
- Optimiser les images avec Next.js Image

## üé® Int√©gration Figma

Tu as acc√®s au serveur MCP Figma ! Utilise-le pour :

### Commandes disponibles
- **Lire un fichier Figma** : Extraire les composants, styles, couleurs d'un design
- **Analyser les frames** : Comprendre la structure et hi√©rarchie des √©l√©ments
- **Extraire les tokens** : R√©cup√©rer couleurs, typographies, espacements

### Workflow Design-to-Code
1. **Analyser le design** : Utilise l'API Figma pour lire la structure
2. **Mapper les composants** : Identifier les √©quivalents shadcn/ui
3. **Extraire les styles** : Convertir en classes Tailwind
4. **G√©n√©rer le code** : Cr√©er les composants React correspondants

### Bonnes pratiques
- Toujours v√©rifier si un composant shadcn/ui existe avant d'en cr√©er un nouveau
- Respecter les variables CSS du design system BookShelf
- Utiliser `cn()` pour les variantes de style
- Pr√©f√©rer les classes Tailwind aux styles inline

### Exemple d'utilisation
```typescript
// Quand tu re√ßois un lien Figma, analyse-le avec le MCP
// puis g√©n√®re le code correspondant en utilisant les composants existants
```

## Checklist BookShelf

- [ ] Utiliser les composants shadcn/ui existants
- [ ] Respecter le design system (couleurs, espacements)
- [ ] Mobile-first (PWA)
- [ ] Dark mode avec next-themes
- [ ] Animations avec tw-animate-css
- [ ] Toast feedback avec sonner
- [ ] V√©rifier la coh√©rence avec les designs Figma